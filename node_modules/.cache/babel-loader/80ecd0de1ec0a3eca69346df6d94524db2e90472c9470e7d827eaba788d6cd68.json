{"ast":null,"code":"import _toConsumableArray from\"/Users/nikhil/Desktop/amazon_clone/amazon_clone/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/nikhil/Desktop/amazon_clone/amazon_clone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export var initialState={basket:[],user:null};export var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case'SET_USER':return _objectSpread(_objectSpread({},state),{},{user:action.user});case'ADD_TO_BASKET':return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case'REMOVE_FROM_BASKET':var newBasket=_toConsumableArray(state.basket);var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});if(index>=0){newBasket.splice(index,1);}else{console.warn('Cant remove product (id: ${action.id}) as its not in basket!');}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});default:return state;}};export default reducer;","map":{"version":3,"names":["initialState","basket","user","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","_objectSpread","concat","_toConsumableArray","newBasket","index","findIndex","basketItem","id","splice","warn"],"sources":["/Users/nikhil/Desktop/amazon_clone/amazon_clone/src/reducer.js"],"sourcesContent":["export const initialState = {\n    basket: [],\n    user: null,\n};\n\nexport const getBasketTotal = (basket) => \nbasket?.reduce((amount, item) => item.price + amount,0);\n\nconst reducer = (state, action) => {\n    console.log(action);\n    switch(action.type) {\n        case 'SET_USER':\n            return {\n                ...state,\n                user: action.user,\n            };\n        case 'ADD_TO_BASKET':\n            return {\n                ...state,\n                basket: [...state.basket, action.item]\n            };\n        case 'REMOVE_FROM_BASKET':\n            let newBasket = [...state.basket];\n\n            const index = state.basket.findIndex((basketItem) => basketItem.id === action.id);\n\n            if (index >=0) {\n                newBasket.splice(index, 1);\n\n            } else {\n                console.warn(\n                    'Cant remove product (id: ${action.id}) as its not in basket!'\n                )\n            }\n\n            return { ...state, basket: newBasket };\n            default:\n                return state;\n    }\n}\n\nexport default reducer;\n"],"mappings":"iRAAA,MAAO,IAAM,CAAAA,YAAY,CAAG,CACxBC,MAAM,CAAE,EAAE,CACVC,IAAI,CAAE,IACV,CAAC,CAED,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIF,MAAM,QACrC,CAAAA,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEG,MAAM,CAAC,SAACC,MAAM,CAAEC,IAAI,QAAK,CAAAA,IAAI,CAACC,KAAK,CAAGF,MAAM,GAAC,CAAC,CAAC,GAEvD,GAAM,CAAAG,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,KAAK,CAAEC,MAAM,CAAK,CAC/BC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACnB,OAAOA,MAAM,CAACG,IAAI,EACd,IAAK,UAAU,CACX,OAAAC,aAAA,CAAAA,aAAA,IACOL,KAAK,MACRP,IAAI,CAAEQ,MAAM,CAACR,IAAI,GAEzB,IAAK,eAAe,CAChB,OAAAY,aAAA,CAAAA,aAAA,IACOL,KAAK,MACRR,MAAM,IAAAc,MAAA,CAAAC,kBAAA,CAAMP,KAAK,CAACR,MAAM,GAAES,MAAM,CAACJ,IAAI,EAAC,GAE9C,IAAK,oBAAoB,CACrB,GAAI,CAAAW,SAAS,CAAAD,kBAAA,CAAOP,KAAK,CAACR,MAAM,CAAC,CAEjC,GAAM,CAAAiB,KAAK,CAAGT,KAAK,CAACR,MAAM,CAACkB,SAAS,CAAC,SAACC,UAAU,QAAK,CAAAA,UAAU,CAACC,EAAE,GAAKX,MAAM,CAACW,EAAE,GAAC,CAEjF,GAAIH,KAAK,EAAG,CAAC,CAAE,CACXD,SAAS,CAACK,MAAM,CAACJ,KAAK,CAAE,CAAC,CAAC,CAE9B,CAAC,IAAM,CACHP,OAAO,CAACY,IAAI,CACR,8DACJ,CAAC,CACL,CAEA,OAAAT,aAAA,CAAAA,aAAA,IAAYL,KAAK,MAAER,MAAM,CAAEgB,SAAS,GACpC,QACI,MAAO,CAAAR,KAAK,CACxB,CACJ,CAAC,CAED,cAAe,CAAAD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}